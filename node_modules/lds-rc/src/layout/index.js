import React, { Component } from 'react';
import { BrowserRouter as Router, Route, NavLink, Link, Switch } from 'react-router-dom';
import helper from '../public/helper';
import LayoutNavigation from './navigation';
import LayoutMultilayer from './multilayer';
import LayoutNavTop from './nav/top';
import LayoutNavRight from './nav/right';
import LayoutNavBottom from './nav/bottom';
import LayoutNavLeft from './nav/left';
import LayoutSideTop from './side/top';
import LayoutSideRight from './side/right';
import LayoutSideBottom from './side/bottom';
import LayoutSideLeft from './side/left';
import { Style, Lang } from './resource';

class Layout extends Component {
  constructor(props) {
    super(props);
    this.state = {};
    
    this.handleClickBackdrop = this.handleClickBackdrop.bind(this);
  }
	
	handleClickBackdrop() {
		this.props.history.goBack();
	}
	
  render() {
  	let {location, history} = this.props;
  	let props = {location, history};
		let myLocation = Object.assign({}, location);

    return (
      <div className="layout default">
      	<LayoutNavRight {...props} navKeep
	      	navStyle={{background: "rgba(0,0,0,.88)"}}
	      	navLinkStyle={{color: "#fff", margin:"10px auto"}}
        	navTpl='(item) => `<span class="title">${item.title}</span>`'>
        	<Route exact path="/home/right" component={() => <div>HomeRight</div>} title="Home" iconClass="home" />
        	<Route exact path="/scene/right" component={() => <div>SceneRight</div>} title="Scene" iconClass="scene" />
        	<Route exact path="/side/right" title="SideRight" />
        </LayoutNavRight>
      	<LayoutNavLeft {...props} contentKeep
	      	navStyle={{background: "rgba(0,0,0,.88)"}}
	      	navLinkStyle={{color: "#fff", margin:"10px auto"}}
        	navTpl='(item) => `<span class="title">${item.title}</span>`'>
        	<Route exact path="/security/left" component={() => <div>SecurityLeft</div>} title="Security" iconClass="security" />
        	<Route exact path="/automation/left" component={() => <div>AutomationLeft</div>} title="Automation" iconClass="automation" />
        	<Route exact path="/side/left" title="SideLeft" />
      	</LayoutNavLeft>
      	<LayoutMultilayer panelClass="multilayer-panel" {...props}>
        	<Route exact path="/second/home" component={() => <div>Home</div>} />
        	<Route exact path="/second/scene" component={() => <div>Scene</div>} />
        	<Route exact path="/second/security" component={() => <div>Security</div>} />
        	<Route exact path="/second/automation" component={() => <div>Automation</div>} />
      	</LayoutMultilayer>
      	<LayoutSideTop {...props}>
        	<Route exact path="/side/top" component={() => <div>SideTop</div>} />
      	</LayoutSideTop>
      	<LayoutSideRight {...props} 
      		panelStyle={{width: "80vw"}}
      		onClickBackdrop={this.handleClickBackdrop}>
        	<Route exact path="/side/right" component={() => <div>SideRight</div>} />
      	</LayoutSideRight>
      	<LayoutSideBottom {...props} 
      		panelStyle={{left: "50%", bottom: "50px", width: "80vw", marginLeft: "-40vw"}}
      		onClickBackdrop={this.handleClickBackdrop}>
        	<Route exact path="/side/bottom" component={() => <div>SideBottom</div>} />
      	</LayoutSideBottom>
      	<LayoutSideLeft {...props} 
      		panelStyle={{width: "80vw"}}
      		onClickBackdrop={this.handleClickBackdrop}>
        	<Route exact path="/side/left" component={() => <div>SideLeft</div>} />
      	</LayoutSideLeft>
      	<div>
	        <h2 style={{margin: "20px auto 10px"}}>布局</h2>
	        <div>
		        <Link to="/side/left" style={{background: "#fff", margin:"5px", padding:"5px 10px"}}>左侧边</Link>
		        <Link to="/side/right" style={{background: "#fff", margin:"5px", padding:"5px 10px"}}>右侧边</Link>
		        <Link to="/side/top" style={{background: "#fff", margin:"5px", padding:"5px 10px"}}>顶部下拉</Link>
		        <Link to="/side/bottom" style={{background: "#fff", margin:"5px", padding:"5px 10px"}}>底部弹出</Link>
		        <Link to="/second/home" style={{background: "#fff", margin:"5px", padding:"5px 10px"}}>打开2级页</Link>
		      </div>
        </div>
      </div>
    );
  }
}

export default Layout;
